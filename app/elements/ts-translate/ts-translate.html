
<link rel="import" href="../../components/neon-animation/neon-animation.html">

<link rel="import" href="./ts-read-mode.html">
<link rel="import" href="./ts-chunk-mode.html">
<link rel="import" href="./ts-review-mode.html">
<link rel="import" href="./ts-translate-sidebar.html">

<dom-module id="ts-translate">

    <style>

        :host {
            display: flex;
        }

        neon-animated-pages {
            flex: auto;
            display: flex;
        }

        neon-animated-pages > * {
            flex: auto;
        }

    </style>

    <template>

        <ts-translate-sidebar route="{{route}}" selected="{{selected}}"></ts-translate-sidebar>

        <neon-animated-pages selected="[[selected]]" exit-animation="scale-down-animation" entry-animation="scale-up-animation">
            <!-- bible="{{bible}}" is part of textual data -->
            <ts-read-mode bible="{{bible}}"></ts-read-mode>
            <ts-chunk-mode language="[[language]]" book="[[book]]" source="[[source]]" translation="{{translation}}"></ts-chunk-mode>
            <ts-review-mode language="[[language]]" book="[[book]]" source="[[source]]" translation="{{translation}}"></ts-review-mode>
        </neon-animated-pages>

    </template>

</dom-module>

<script>

    Polymer({

        is: 'ts-translate',

        properties: {
            selected: {
                type: Number,
                value: 0
            },
            route: {
                type: String,
                value: '',
                notify: true
            },
            // Textual data for read-mode, chunk-mode, and review-mode
            // -------------------------------------------------------
            bible: {
                type: Object,
                value: function () {
                    return {};
                }
            },
            language: {
                type: Object,
                value: {}
            },
            book: {
                type: Object,
                value: {}
            },
            source: {
                type: Array,
                value: []
            },
            translation: {
                type: Array,
                value: []
            }
        },

        ready: function() {
            // Textual data
            // ------------
            this.bible = {
                book: "Genesis",
                translation: "English KJV",
                content: [
                    {
                        chapterNumber: 1,
                        chapterContent: [
                            {
                                section: 1,
                                startVerse: 1,
                                endVerse: 2,
                                verses: [
                                    'In the beginning God created the heaven and the earth.',
                                    'And the earth was without form, and void; and darkness was upon the face of the deep. And the Spirit of God moved upon the face of the waters.',
                                ]
                            },
                            {
                                section: 2,
                                startVerse: 3,
                                endVerse: 5,
                                verses: [
                                    'And God said, Let there be light: and there was light.',
                                    'And God saw the light, that it was good: and God divided the light from the darkness.',
                                    'And God called the light Day, and the darkness he called Night. And the evening and the morning were the first day.'
                                ]
                            }
                        ]
                    },
                    {
                        chapterNumber: 2,
                        chapterContent: [
                            {
                                section: 1,
                                startVerse: 1,
                                endVerse: 3,
                                verses: [
                                    'Thus the heavens and the earth were finished, and all the host of them.',
                                    'And on the seventh day God ended his work which he had made; and he rested on the seventh day from all his work which he had made.',
                                    'And God blessed the seventh day, and sanctified it: because that in it he had rested from all his work which God created and made.'
                                ]
                            },
                            {
                                section: 2,
                                startVerse: 4,
                                endVerse: 6,
                                verses: [
                                    'These are the generations of the heavens and of the earth when they were created, in the day that the LORD God made the earth and the heavens,',
                                    'And every plant of the field before it was in the earth, and every herb of the field beforeit grew: for the LORD God had not caused it to rain upon the earth, and there was not a man to till the ground.',
                                    'But there went up a mist from the earth, and watered the whole face of the ground.'
                                ]
                            }
                        ]
                    }
                ]
            };
            // end of textual data

            this.translation = [
                {
                    meta: {
                        chapter: 1,
                        startverse: 1,
                        endverse: 3
                    },
                    content: 'Translation - In the beginning was the Word, and the Word was with God, and the Word was God.',
                    status: 'Incomplete'
                },
                {
                    meta: {
                        chapter: 1,
                        startverse: 4,
                        endverse: 5
                    },
                    content: 'Translation - And the Word was made flesh, and dwelt among us, (and we beheld his glory, the glory',
                    status: 'Incomplete'
                },
                {
                    meta: {
                        chapter: 2,
                        startverse: 1,
                        endverse: 2
                    },
                    content: 'Translation - They came and saw where he dwelt, and abode with him that day: for it was about the tenth hour. And then there was some more text here, that said something else.  And it was good.',
                    status: 'Incomplete'
                }
            ];

            this.source = [
                {
                    meta: {
                        chapter: 1,
                        startverse: 1,
                        endverse: 3
                    },
                    content: 'Source - In the beginning was the Word, and the Word was with God, and the Word was God. The same was in the beginning with God. All things were made by him; and without him was not any thing made that was made.  What happens when there is a lot more text in the source box then there is in the translation box'
                },
                {
                    meta: {
                        chapter: 1,
                        startverse: 4,
                        endverse: 5
                    },
                    content: 'Source - And the Word was made flesh, and dwelt among us, (and we beheld his glory, the glory as of the only begotten of the Father,) full of grace and truth. John bore witness of him, and cried, saying, This was he of whom I spake, He that cometh after me is preferred before me: for he was before me.'
                },
                {
                    meta: {
                        chapter: 2,
                        startverse: 1,
                        endverse: 2
                    },
                    content: 'Source - They came and saw where he dwelt, and abode with him that day: for it was about the tenth hour.'
                }
            ];

        }

    });

</script>
