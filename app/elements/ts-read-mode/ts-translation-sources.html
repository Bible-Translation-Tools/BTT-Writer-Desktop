
<link rel="import" href="../../components/polymer/polymer.html">
<link rel="import" href="../../components/iron-list/iron-list.html">
<link rel="import" href="../../components/iron-collapse/iron-collapse.html">
<link rel="import" href="../../components/paper-checkbox/paper-checkbox.html">

<dom-module id="ts-translation-sources">

    <style>

        :host {
            display: none;
            height: 100vh;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 100;
            background-color: rgba(0,0,0,0.5);
            box-sizing: border-box;
        }

        .container {
            display: block;
            position: absolute;
            top: 41px;
            left: 0;
            right: 0;
            margin-left: auto;
            margin-right: auto;
            background: white;
            width: 450px;
            height: 200px;
            box-shadow: -4px 0 30px rgba(22, 22, 22, 0.3);
        }
        .titles {
            flex: auto;
            font-size: 125%;
            display: inline-block;
            height: 40px;
        }

        [icon="arrow-back"] {
            margin: 0 .2em;
        }

        [icon="search"] {
            padding: 0;
        }

        .header {
            color: #888;
            font-style: italic;
            font-family: 'Roboto';
            font-size: 110%
        }

        .header span {
            display: block;
            padding: 1em;
            /*border-bottom: 1px solid #bbb;*/
        }

        iron-list {
            margin: 0;
            padding: 0;
            font-family: 'Roboto';
            font-size: 110%;
            height: 500px;
        }

        .row {
            display: block;
            margin: 0;
            padding: 1em;
            border-bottom: 1px solid #bbb;
        }
        .row:hover {
            background: var(--accent-color-dark);
            box-shadow: inset 0 -1px rgba(0,0,0,0);
            color: #fff;
        }
        .row-header {
            display: block;
            margin: 0;
            padding: 0.25em 1em;
            background-color: #EEE;
            text-transform: uppercase;
            font-size: 80%;
            color: #888;
            font-weight: 500;
        }
        .right {
            float: right;
        }

/*        ::-webkit-scrollbar {
            display: none;
        }*/

    </style>

  <template>

    <div class="container">
        <div class="header">
            <span>Choose source translations<paper-icon-button class="right" icon="search"></paper-icon-button></span>
        </div>

        <div id="selected-sources-header" class="row-header" on-click="toggleSelected">
            <span>Selected</span>
        </div>
        <iron-collapse id="collapse-selected" opened>
            <div class="collapse-content">
                <iron-list items="{{ translationSources }}">
                    <template>
                        <div class="row">
                            <span>{{ item.name }}</span>
                            <paper-checkbox class="right"></paper-checkbox>
                        </div>
                    </template>
                </iron-list>
<!--                 <iron-list items="[[translationSources]]" as="l">
                    <template>
                        <div class="row">
                            <div class="clickable language" on-tap="store">
                                <span>[[l.name]]</span>
                                <span class="right">[[l.code]]</span>
                            </div>
                        </div>
                    </template>
                </iron-list> -->
            </div>
        </iron-collapse>

        <div class="footer">
            
        </div>
    </div>

  </template>

</dom-module>

<script>

  Polymer({
    is: 'ts-translation-sources',

    properties: {
        translationSources: {
            type: 'Array',
            value: []
            // notify: true
        }
    },

    toggleSelected: function() {
        this.$['collapse-selected'].toggle();
        // console.dir(this.$['collapse-selected']);
    },

    store: function(event) {
        // this.translationSource = event.model.translationSource;
        // this.fire('selected');
    },

    ready: function() {

    },

    attached: function() {
        this.push('translationSources',  {
            'name': 'English ULB',
            'code': 'en-ulb',
            'checked': false
        });
        this.push('translationSources',  {
            'name': 'English UDB',
            'code': 'en-udb',
            'checked': false
        });
        this.push('translationSources',  {
            'name': 'Arabic',
            'code': 'ar',
            'checked': false
        });
        console.log(this.translationSources);
    }
  });

</script>
