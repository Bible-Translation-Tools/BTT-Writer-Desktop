

<link rel="import" href="../../elements/ts-home-blank/ts-home-blank.html">
<link rel="import" href="../../elements/ts-home-menu/ts-home-menu.html">
<link rel="import" href="../../elements/ts-language-menu/ts-language-menu.html">
<link rel="import" href="../../elements/ts-project-menu/ts-project-menu.html">
<link rel="import" href="../../elements/ts-book-menu/ts-book-menu.html">
<link rel="import" href="../../elements/ts-chapter-menu/ts-chapter-menu.html">
<link rel="import" href="../../components/paper-icon-button/paper-icon-button.html" />
<link rel="import" href="../ts-read-mode/ts-read-mode.html" />

<dom-module id="ts-dashboard">

  <style>

  :host {
    display: block;
    width: 100%;
    height: 100%;
  }

  [icon="menu"] {
    margin: 0 1em;
  }

  #pages {
    height: 100%;
  }

  </style>

  <template>

    <iron-pages id="pages" class="clickable" on-tap="TapHandler" selected="[[selected]]">
        <ts-home-blank></ts-home-blank>
        <ts-home-menu></ts-home-menu>
        <ts-language-menu language="{{targetLanguage}}" on-selected="onLanguageSelected"></ts-language-menu>
        <ts-project-menu language="[[targetLanguage]]"></ts-project-menu>
        <ts-book-menu></ts-book-menu>
        <ts-chapter-menu></ts-chapter-menu>
        <ts-read-mode></ts-read-mode>
    </iron-pages>

</template>

</dom-module>

<script>

  Polymer({
    is: 'ts-dashboard',

    properties: {
        selected: {
            type: Number,
            value: 0
        },
        targetLanguage: {
            type: Object,
            value: {}
        }
    },

    onLanguageSelected: function(event) {
        
    },

    TapHandler: function(event) {
        // var etarget = event.target;
        // while (!etarget.classList.contains("clickable")) {
        //     etarget = etarget.parentNode;
        // }

        this.selected = Math.min(this.selected + 1, this.$.pages.children.length - 1);

        // if (etarget.id === "start" || etarget.id === "new") {
        //     this.selected = 2;
        // } else if (etarget.classList.contains("language")) {
        //     this.selected = this.selected + 1;
        // } else if (etarget.classList.contains("book")) {
        //     this.selected = this.selected + 1;
        // } else if (etarget.nodeName === "LI") {
        //     this.selected = this.selected + 1;
        // } else if (etarget.id === "back") {
        //     this.selected = this.selected - 1;
        // }

    },

    ready: function() {

    }
  });

</script>
